Выявленные огранчения по грамматике:

1. При использовании оператора Итерации (...), ему ОБЯЗАТЕЛЬНО должен предшествовать пробел.
Пока не знаю, как это исправить. Лексер пытается инетпритировать это как FLOAT, или обращение к полям идентификатора.